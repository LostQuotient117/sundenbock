<div class="grid grid-cols-7 gap-2 bg-base-200 text-base-content p-2 rounded-lg">
  <!-- Header -->
  <div class="flex items-center gap-1 font-bold">
    ID <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Titel <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Key <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Status <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Owner <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Tickets <span class="text-xs cursor-pointer">▲</span>
  </div>
  <div class="flex items-center gap-1 font-bold">
    Erstellt am <span class="text-xs cursor-pointer">▲</span>
  </div>

  <!-- Rows -->
  @for (p of projects; track p.id) {
    <div class="font-mono text-sm">{{ p.id }}</div>

    <a
      [routerLink]="['/projects', p.id]"
      class="font-semibold text-base-content hover:text-primary hover:underline hover:cursor-pointer transition"
    >
      {{ p.title }}
    </a>

    <div class="text-sm">{{ p.key || '-' }}</div>

    <div class="dropdown">
      <label
        tabindex="0"
        class="badge gap-2 text-sm font-medium cursor-pointer"
        [ngClass]="{
          'badge-success': p.status === 'ACTIVE',
          'badge-warning': p.status === 'ON_HOLD',
          'badge-neutral': p.status === 'ARCHIVED'
        }"
      >
        {{ statusLabelMap[p.status] || p.status || '-' }}
      </label>
      <!-- Optional: Status-Auswahl (nur UI – Hook für später) -->
      <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
        <li><a>ACTIVE</a></li>
        <li><a>ON_HOLD</a></li>
        <li><a>ARCHIVED</a></li>
      </ul>
    </div>

    <div>{{ p.owner?.username || p.owner?.name || '-' }}</div>

    <a
      [routerLink]="['/projects', p.id, 'tickets']"
      class="link link-hover"
      title="Tickets anzeigen"
    >
      {{ (p.ticketCount ?? p.tickets?.length) ?? 0 }}
    </a>

    <div>{{ p.createdOn | date: 'short' }}</div>
  }
</div>
